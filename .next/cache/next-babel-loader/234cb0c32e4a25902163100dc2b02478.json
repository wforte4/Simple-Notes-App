{"ast":null,"code":"import Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\nconst cookies = new Cookies();\nexport async function createProfile(firstname, lastname, email, password) {\n  // Request data to post to createprofile route on rest api\n  fetch(baseConfig.baseURL + '/users', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"firstName\": firstname,\n      \"lastName\": lastname,\n      \"email\": email,\n      \"password\": password\n    })\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    console.log('Request succeeded with JSON response', data);\n  }).catch(function (error) {\n    console.log('Request failed', error);\n  });\n}\nexport async function loginRequest(email, password) {\n  // New Login Data request\n  const newLogin = await fetch(baseConfig.baseURL + '/auth', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    })\n  }).then(function (response) {\n    if (response.status == 400) return response.status;\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    return error;\n  });\n  return newLogin;\n}\nexport async function forgotPassword(email) {\n  // New Login Data request\n  const newLogin = await fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newLogin) {\n    return newLogin;\n  }\n}\nexport async function submitContact(name, message, email, cellphone) {\n  // Request data to post to createprofile route on rest api\n  const newfetch = await fetch(baseConfig.baseURL + '/contact', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"name\": name,\n      \"message\": message,\n      \"cellphone\": cellphone,\n      \"email\": email\n    })\n  }).then(function (res) {\n    return res.status;\n  }).catch(function (error) {\n    console.log('Request failed', error);\n  });\n\n  if (newfetch) {\n    return newfetch;\n  } else {\n    return 404;\n  }\n}\nexport async function createTask(objective, status, priority, assignee) {\n  const getCookies = cookies.getAll(); // New Login Data request\n\n  const newTask = await fetch(baseConfig.baseURL + '/tasks', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${getCookies.accessToken}`\n    },\n    body: JSON.stringify({\n      \"objective\": objective,\n      \"status\": status,\n      \"priority\": priority,\n      \"assignee\": assignee\n    })\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newTask) {\n    return newTask;\n  }\n}\nexport async function getTasks(limit, token) {\n  const getCookies = cookies.getAll(); // New Login Data request\n\n  const newTask = await fetch(baseConfig.baseURL + '/tasks?limit=' + limit, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken : token}`\n    }\n  }).then(function (response) {\n    if (response.status == 403) {\n      return 'Not Authorized';\n    }\n\n    return response.json();\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newTask) {\n    return newTask;\n  }\n}\nexport async function removeTask(taskId) {\n  const getCookies = cookies.getAll(); // New Login Data request\n\n  const newTask = await fetch(baseConfig.baseURL + `/tasks/${taskId}`, {\n    method: 'DELETE',\n    headers: {\n      \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken : token}`\n    }\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newTask) {\n    return newTask;\n  }\n}\nexport async function updateTaskStatus(taskId, newstatus) {\n  const getCookies = cookies.getAll(); // New Login Data request\n\n  const newTask = await fetch(baseConfig.baseURL + `/tasks/${taskId}`, {\n    method: 'PATCH',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken : token}`\n    },\n    body: JSON.stringify({\n      \"status\": newstatus\n    })\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newTask) {\n    return newTask;\n  }\n}\nexport async function searchProjects(newQuery) {\n  // New Login Data request\n  const newSearch = await fetch(baseConfig.baseURL + `/searchprojects/` + newQuery, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newSearch) {\n    return newSearch;\n  }\n}","map":{"version":3,"sources":["/home/wforte/canvas/SynapseFlash/services/apiservice.js"],"names":["Router","Cookies","jwt_decode","baseConfig","cookies","createProfile","firstname","lastname","email","password","fetch","baseURL","method","headers","body","JSON","stringify","then","response","json","data","console","log","catch","error","loginRequest","newLogin","status","forgotPassword","submitContact","name","message","cellphone","newfetch","res","createTask","objective","priority","assignee","getCookies","getAll","newTask","accessToken","getTasks","limit","token","removeTask","taskId","updateTaskStatus","newstatus","searchProjects","newQuery","newSearch"],"mappings":"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","sourcesContent":["import Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\n\nconst cookies = new Cookies();\n\nexport async function createProfile(firstname, lastname, email, password) {\n    // Request data to post to createprofile route on rest api\n    fetch(baseConfig.baseURL + '/users', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"firstName\": firstname,\n            \"lastName\": lastname,\n            \"email\": email,\n            \"password\": password\n        })\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        console.log('Request succeeded with JSON response', data);\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n}\n\nexport async function loginRequest(email, password) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/auth', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"password\": password\n        })\n    })\n    .then(function(response) {\n        if(response.status == 400) return response.status\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    return newLogin\n}\n\nexport async function forgotPassword(email) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\"\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newLogin) {\n        return newLogin\n    }\n}\n\nexport async function submitContact(name, message, email, cellphone) {\n    // Request data to post to createprofile route on rest api\n    const newfetch = await fetch(baseConfig.baseURL + '/contact', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"name\": name,\n            \"message\": message,\n            \"cellphone\": cellphone,\n            \"email\": email\n        })\n    })\n    .then(function(res) {\n        return res.status\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n\n    if(newfetch) {\n        return newfetch\n    } else {\n        return 404\n    }\n}\n\nexport async function createTask(objective, status, priority, assignee) {\n    \n    const getCookies = cookies.getAll()\n    // New Login Data request\n    const newTask = await fetch(baseConfig.baseURL + '/tasks', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${getCookies.accessToken}`\n        },\n        body: JSON.stringify({\n            \"objective\": objective,\n            \"status\": status,\n            \"priority\": priority,\n            \"assignee\": assignee,\n        })\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newTask) {\n        return newTask\n    }\n}\n\nexport async function getTasks(limit, token) {\n    \n    const getCookies = cookies.getAll()\n    // New Login Data request\n    const newTask = await fetch(baseConfig.baseURL + '/tasks?limit=' + limit, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken: token}`\n        }\n    })\n    .then(function(response) {\n        if(response.status == 403) {\n            return 'Not Authorized'\n        }\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newTask) {\n        return newTask\n    }\n}\n\nexport async function removeTask(taskId) {\n    \n    const getCookies = cookies.getAll()\n    // New Login Data request\n    const newTask = await fetch(baseConfig.baseURL + `/tasks/${taskId}`, {\n        method: 'DELETE',\n        headers: {\n            \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken: token}`\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newTask) {\n        return newTask\n    }\n}\n\nexport async function updateTaskStatus(taskId, newstatus) {\n    \n    const getCookies = cookies.getAll()\n    // New Login Data request\n    const newTask = await fetch(baseConfig.baseURL + `/tasks/${taskId}`, {\n        method: 'PATCH',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${getCookies.accessToken ? getCookies.accessToken: token}`\n        },\n        body: JSON.stringify({\n            \"status\": newstatus\n        })\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newTask) {\n        return newTask\n    }\n}\n\nexport async function searchProjects(newQuery) {\n    // New Login Data request\n    const newSearch = await fetch(baseConfig.baseURL + `/searchprojects/` + newQuery, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newSearch) {\n        return newSearch\n    }\n}\n"]},"metadata":{},"sourceType":"module"}