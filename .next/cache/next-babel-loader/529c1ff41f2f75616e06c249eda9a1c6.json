{"ast":null,"code":"import _regeneratorRuntime from \"/Users/williamforte/Canvas/SynapseFlash/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/williamforte/Canvas/SynapseFlash/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\nvar cookies = new Cookies();\nexport function createProfile(_x, _x2, _x3, _x4) {\n  return _createProfile.apply(this, arguments);\n}\n\nfunction _createProfile() {\n  _createProfile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(firstname, lastname, email, password) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Request data to post to createprofile route on rest api\n            fetch(baseConfig.baseURL + '/users', {\n              method: 'POST',\n              headers: {\n                \"Content-type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"firstName\": firstname,\n                \"lastName\": lastname,\n                \"email\": email,\n                \"password\": password\n              })\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              console.log('Request succeeded with JSON response', data);\n            })[\"catch\"](function (error) {\n              console.log('Request failed', error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _createProfile.apply(this, arguments);\n}\n\nexport function loginRequest(_x5, _x6) {\n  return _loginRequest.apply(this, arguments);\n}\n\nfunction _loginRequest() {\n  _loginRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email, password) {\n    var newLogin;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(baseConfig.baseURL + '/auth', {\n              method: 'POST',\n              headers: {\n                \"Content-type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"email\": email,\n                \"password\": password\n              })\n            }).then(function (response) {\n              if (response.status == 400) return response.status;\n              return response.json();\n            }).then(function (data) {\n              return data;\n            })[\"catch\"](function (error) {\n              return error;\n            });\n\n          case 2:\n            newLogin = _context2.sent;\n            return _context2.abrupt(\"return\", newLogin);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loginRequest.apply(this, arguments);\n}\n\nexport function forgotPassword(_x7) {\n  return _forgotPassword.apply(this, arguments);\n}\n\nfunction _forgotPassword() {\n  _forgotPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(email) {\n    var newLogin;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n              method: 'GET',\n              headers: {\n                \"Content-type\": \"application/json\"\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              return data;\n            })[\"catch\"](function (error) {\n              return error;\n            });\n\n          case 2:\n            newLogin = _context3.sent;\n\n            if (!newLogin) {\n              _context3.next = 5;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", newLogin);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _forgotPassword.apply(this, arguments);\n}\n\nexport function changePassword(_x8, _x9) {\n  return _changePassword.apply(this, arguments);\n}\n\nfunction _changePassword() {\n  _changePassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(token, newPassword) {\n    var newLogin;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return fetch(baseConfig.baseURL + '/users/changepassword/' + newPassword, {\n              method: 'GET',\n              headers: {\n                \"Content-type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(token)\n              }\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              return data;\n            })[\"catch\"](function (error) {\n              return error;\n            });\n\n          case 2:\n            newLogin = _context4.sent;\n\n            if (!newLogin) {\n              _context4.next = 5;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", newLogin);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _changePassword.apply(this, arguments);\n}\n\nexport function submitContact(_x10, _x11, _x12, _x13) {\n  return _submitContact.apply(this, arguments);\n}\n\nfunction _submitContact() {\n  _submitContact = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(name, message, email, cellphone) {\n    var newfetch;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetch(baseConfig.baseURL + '/contact', {\n              method: 'POST',\n              headers: {\n                \"Content-type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"name\": name,\n                \"message\": message,\n                \"cellphone\": cellphone,\n                \"email\": email\n              })\n            }).then(function (res) {\n              return res.status;\n            })[\"catch\"](function (error) {\n              console.log('Request failed', error);\n            });\n\n          case 2:\n            newfetch = _context5.sent;\n\n            if (!newfetch) {\n              _context5.next = 7;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", newfetch);\n\n          case 7:\n            return _context5.abrupt(\"return\", 404);\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _submitContact.apply(this, arguments);\n}\n\nexport function patchUser(_x14, _x15, _x16) {\n  return _patchUser.apply(this, arguments);\n}\n\nfunction _patchUser() {\n  _patchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(userId, token, userData) {\n    var newfetch;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return fetch(baseConfig.baseURL + '/users/', {\n              method: 'PATCH',\n              headers: {\n                \"Content-type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(token)\n              },\n              body: JSON.stringify({\n                userData: userData\n              })\n            }).then(function (res) {\n              return res.status;\n            })[\"catch\"](function (error) {\n              console.log('Request failed', error);\n            });\n\n          case 2:\n            newfetch = _context6.sent;\n\n            if (!newfetch) {\n              _context6.next = 7;\n              break;\n            }\n\n            return _context6.abrupt(\"return\", newfetch);\n\n          case 7:\n            return _context6.abrupt(\"return\", 404);\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _patchUser.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/williamforte/Canvas/SynapseFlash/services/apiservice.js"],"names":["Router","Cookies","jwt_decode","baseConfig","cookies","createProfile","firstname","lastname","email","password","fetch","baseURL","method","headers","body","JSON","stringify","then","response","json","data","console","log","error","loginRequest","status","newLogin","forgotPassword","changePassword","token","newPassword","submitContact","name","message","cellphone","res","newfetch","patchUser","userId","userData"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,UAAT,QAA2B,eAA3B;AAEA,IAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;AAEA,gBAAsBI,aAAtB;AAAA;AAAA;;;4EAAO,iBAA6BC,SAA7B,EAAwCC,QAAxC,EAAkDC,KAAlD,EAAyDC,QAAzD;AAAA;AAAA;AAAA;AAAA;AACH;AACAC,YAAAA,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,QAAtB,EAAgC;AACjCC,cAAAA,MAAM,EAAE,MADyB;AAEjCC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eAFwB;AAKjCC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,6BAAaV,SADI;AAEjB,4BAAYC,QAFK;AAGjB,yBAASC,KAHQ;AAIjB,4BAAYC;AAJK,eAAf;AAL2B,aAAhC,CAAL,CAYCQ,IAZD,CAYM,UAASC,QAAT,EAAmB;AACrB,qBAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,aAdD,EAeCF,IAfD,CAeM,UAASG,IAAT,EAAe;AACjBC,cAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDF,IAApD;AACH,aAjBD,WAkBO,UAASG,KAAT,EAAgB;AACnBF,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,KAA9B;AACH,aApBD;;AAFG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAyBP,gBAAsBC,YAAtB;AAAA;AAAA;;;2EAAO,kBAA4BhB,KAA5B,EAAmCC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoBC,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,OAAtB,EAA+B;AACvDC,cAAAA,MAAM,EAAE,MAD+C;AAEvDC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eAF8C;AAKvDC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,yBAASR,KADQ;AAEjB,4BAAYC;AAFK,eAAf;AALiD,aAA/B,CAAL,CAUtBQ,IAVsB,CAUjB,UAASC,QAAT,EAAmB;AACrB,kBAAGA,QAAQ,CAACO,MAAT,IAAmB,GAAtB,EAA2B,OAAOP,QAAQ,CAACO,MAAhB;AAC3B,qBAAOP,QAAQ,CAACC,IAAT,EAAP;AACH,aAbsB,EActBF,IAdsB,CAcjB,UAASG,IAAT,EAAe;AACjB,qBAAOA,IAAP;AACH,aAhBsB,WAiBhB,UAASG,KAAT,EAAgB;AACnB,qBAAOA,KAAP;AACH,aAnBsB,CAFpB;;AAAA;AAEGG,YAAAA,QAFH;AAAA,8CAsBIA,QAtBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAyBP,gBAAsBC,cAAtB;AAAA;AAAA;;;6EAAO,kBAA8BnB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoBE,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,oBAArB,GAA4CH,KAA7C,EAAoD;AAC5EI,cAAAA,MAAM,EAAE,KADoE;AAE5EC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX;AAFmE,aAApD,CAAL,CAMtBI,IANsB,CAMjB,UAASC,QAAT,EAAmB;AACrB,qBAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,aARsB,EAStBF,IATsB,CASjB,UAASG,IAAT,EAAe;AACjB,qBAAOA,IAAP;AACH,aAXsB,WAYhB,UAASG,KAAT,EAAgB;AACnB,qBAAOA,KAAP;AACH,aAdsB,CAFpB;;AAAA;AAEGG,YAAAA,QAFH;;AAAA,iBAiBAA,QAjBA;AAAA;AAAA;AAAA;;AAAA,8CAkBQA,QAlBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAsBP,gBAAsBE,cAAtB;AAAA;AAAA;;;6EAAO,kBAA8BC,KAA9B,EAAqCC,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoBpB,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,wBAArB,GAAgDmB,WAAjD,EAA8D;AACtFlB,cAAAA,MAAM,EAAE,KAD8E;AAEtFC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,kDAA2BgB,KAA3B;AAFK;AAF6E,aAA9D,CAAL,CAOtBZ,IAPsB,CAOjB,UAASC,QAAT,EAAmB;AACrB,qBAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,aATsB,EAUtBF,IAVsB,CAUjB,UAASG,IAAT,EAAe;AACjB,qBAAOA,IAAP;AACH,aAZsB,WAahB,UAASG,KAAT,EAAgB;AACnB,qBAAOA,KAAP;AACH,aAfsB,CAFpB;;AAAA;AAEGG,YAAAA,QAFH;;AAAA,iBAkBAA,QAlBA;AAAA;AAAA;AAAA;;AAAA,8CAmBQA,QAnBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAuBP,gBAAsBK,aAAtB;AAAA;AAAA;;;4EAAO,kBAA6BC,IAA7B,EAAmCC,OAAnC,EAA4CzB,KAA5C,EAAmD0B,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoBxB,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,UAAtB,EAAkC;AAC1DC,cAAAA,MAAM,EAAE,MADkD;AAE1DC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX,eAFiD;AAK1DC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,wBAAQgB,IADS;AAEjB,2BAAWC,OAFM;AAGjB,6BAAaC,SAHI;AAIjB,yBAAS1B;AAJQ,eAAf;AALoD,aAAlC,CAAL,CAYtBS,IAZsB,CAYjB,UAASkB,GAAT,EAAc;AAChB,qBAAOA,GAAG,CAACV,MAAX;AACH,aAdsB,WAehB,UAASF,KAAT,EAAgB;AACnBF,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,KAA9B;AACH,aAjBsB,CAFpB;;AAAA;AAEGa,YAAAA,QAFH;;AAAA,iBAqBAA,QArBA;AAAA;AAAA;AAAA;;AAAA,8CAsBQA,QAtBR;;AAAA;AAAA,8CAwBQ,GAxBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA4BP,gBAAsBC,SAAtB;AAAA;AAAA;;;wEAAO,kBAAyBC,MAAzB,EAAiCT,KAAjC,EAAwCU,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoB7B,KAAK,CAACP,UAAU,CAACQ,OAAX,GAAqB,SAAtB,EAAiC;AACzDC,cAAAA,MAAM,EAAE,OADiD;AAEzDC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,kDAA2BgB,KAA3B;AAFK,eAFgD;AAMzDf,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEuB,gBAAAA,QAAQ,EAARA;AAAF,eAAf;AANmD,aAAjC,CAAL,CAQtBtB,IARsB,CAQjB,UAASkB,GAAT,EAAc;AAChB,qBAAOA,GAAG,CAACV,MAAX;AACH,aAVsB,WAWhB,UAASF,KAAT,EAAgB;AACnBF,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,KAA9B;AACH,aAbsB,CAFpB;;AAAA;AAEGa,YAAAA,QAFH;;AAAA,iBAiBAA,QAjBA;AAAA;AAAA;AAAA;;AAAA,8CAkBQA,QAlBR;;AAAA;AAAA,8CAoBQ,GApBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\n\nconst cookies = new Cookies();\n\nexport async function createProfile(firstname, lastname, email, password) {\n    // Request data to post to createprofile route on rest api\n    fetch(baseConfig.baseURL + '/users', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"firstName\": firstname,\n            \"lastName\": lastname,\n            \"email\": email,\n            \"password\": password\n        })\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        console.log('Request succeeded with JSON response', data);\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n}\n\nexport async function loginRequest(email, password) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/auth', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"password\": password\n        })\n    })\n    .then(function(response) {\n        if(response.status == 400) return response.status\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    return newLogin\n}\n\nexport async function forgotPassword(email) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\"\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newLogin) {\n        return newLogin\n    }\n}\n\nexport async function changePassword(token, newPassword) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/users/changepassword/' + newPassword, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newLogin) {\n        return newLogin\n    }\n}\n\nexport async function submitContact(name, message, email, cellphone) {\n    // Request data to post to createprofile route on rest api\n    const newfetch = await fetch(baseConfig.baseURL + '/contact', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"name\": name,\n            \"message\": message,\n            \"cellphone\": cellphone,\n            \"email\": email\n        })\n    })\n    .then(function(res) {\n        return res.status\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n\n    if(newfetch) {\n        return newfetch\n    } else {\n        return 404\n    }\n}\n\nexport async function patchUser(userId, token, userData) {\n    // Request data to post to createprofile route on rest api\n    const newfetch = await fetch(baseConfig.baseURL + '/users/', {\n        method: 'PATCH',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({ userData })\n    })\n    .then(function(res) {\n        return res.status\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n\n    if(newfetch) {\n        return newfetch\n    } else {\n        return 404\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}