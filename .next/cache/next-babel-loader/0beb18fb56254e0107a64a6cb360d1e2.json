{"ast":null,"code":"import _regeneratorRuntime from \"/home/wforte/canvas/SynapseFlash/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/wforte/canvas/SynapseFlash/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useSelector } from \"react-redux\";\nimport { baseConfig } from '../services/restservice';\nexport function uploadThought(_x, _x2, _x3, _x4) {\n  return _uploadThought.apply(this, arguments);\n}\n\nfunction _uploadThought() {\n  _uploadThought = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(thought, user, mindset, auth) {\n    var newThought;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(auth); // New Login Data request\n\n            _context.next = 3;\n            return fetch(baseConfig.thoughtURL, {\n              method: 'POST',\n              headers: {\n                \"Content-type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(auth.accessToken)\n              },\n              body: JSON.stringify({\n                \"thought\": thought,\n                \"user\": user,\n                \"mindset\": mindset\n              })\n            }).then(function (response) {\n              return response.json();\n            })[\"catch\"](function (error) {\n              return error;\n            });\n\n          case 3:\n            newThought = _context.sent;\n\n            if (!newThought) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\", newThought);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _uploadThought.apply(this, arguments);\n}\n\nexport function getThoughts(_x5, _x6) {\n  return _getThoughts.apply(this, arguments);\n}\n\nfunction _getThoughts() {\n  _getThoughts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email, auth) {\n    var getThought;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(baseConfig.thoughtURL + 'getbyemail/' + email, {\n              method: 'GET',\n              headers: {\n                \"Content-type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(auth.accessToken)\n              }\n            }).then(function (response) {\n              return response.json();\n            })[\"catch\"](function (error) {\n              return error;\n            });\n\n          case 2:\n            getThought = _context2.sent;\n\n            if (!getThought) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", getThought);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getThoughts.apply(this, arguments);\n}","map":{"version":3,"sources":["/home/wforte/canvas/SynapseFlash/services/thoughtservice.js"],"names":["useSelector","baseConfig","uploadThought","thought","user","mindset","auth","console","log","fetch","thoughtURL","method","headers","accessToken","body","JSON","stringify","then","response","json","error","newThought","getThoughts","email","getThought"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,gBAAsBC,aAAtB;AAAA;AAAA;;;4EAAO,iBAA6BC,OAA7B,EAAsCC,IAAtC,EAA4CC,OAA5C,EAAqDC,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADG,CAEH;;AAFG;AAAA,mBAGsBG,KAAK,CAACR,UAAU,CAACS,UAAZ,EAAwB;AAClDC,cAAAA,MAAM,EAAE,MAD0C;AAElDC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,kDAA2BN,IAAI,CAACO,WAAhC;AAFK,eAFyC;AAMlDC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,2BAAWb,OADM;AAEjB,wBAAQC,IAFS;AAGjB,2BAAWC;AAHM,eAAf;AAN4C,aAAxB,CAAL,CAYxBY,IAZwB,CAYnB,UAASC,QAAT,EAAmB;AACrB,qBAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,aAdwB,WAelB,UAASC,KAAT,EAAgB;AACnB,qBAAOA,KAAP;AACH,aAjBwB,CAHtB;;AAAA;AAGGC,YAAAA,UAHH;;AAAA,iBAqBAA,UArBA;AAAA;AAAA;AAAA;;AAAA,6CAsBQA,UAtBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA2BP,gBAAsBC,WAAtB;AAAA;AAAA;;;0EAAO,kBAA2BC,KAA3B,EAAkCjB,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEsBG,KAAK,CAACR,UAAU,CAACS,UAAX,GAAwB,aAAxB,GAAwCa,KAAzC,EAAgD;AAC1EZ,cAAAA,MAAM,EAAE,KADkE;AAE1EC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,kDAA2BN,IAAI,CAACO,WAAhC;AAFK;AAFiE,aAAhD,CAAL,CAOxBI,IAPwB,CAOnB,UAASC,QAAT,EAAmB;AACrB,qBAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,aATwB,WAUlB,UAASC,KAAT,EAAgB;AACnB,qBAAOA,KAAP;AACH,aAZwB,CAFtB;;AAAA;AAEGI,YAAAA,UAFH;;AAAA,iBAeAA,UAfA;AAAA;AAAA;AAAA;;AAAA,8CAgBQA,UAhBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { useSelector } from \"react-redux\";\nimport { baseConfig } from '../services/restservice'\n\nexport async function uploadThought(thought, user, mindset, auth) {\n    console.log(auth)\n    // New Login Data request\n    const newThought = await fetch(baseConfig.thoughtURL, {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${auth.accessToken}`\n        },\n        body: JSON.stringify({\n            \"thought\": thought,\n            \"user\": user,\n            \"mindset\": mindset,\n        })\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newThought) {\n        return newThought\n    }\n\n}\n\nexport async function getThoughts(email, auth) {\n    // New Login Data request\n    const getThought = await fetch(baseConfig.thoughtURL + 'getbyemail/' + email, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${auth.accessToken}`\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(getThought) {\n        return getThought\n    }\n\n}"]},"metadata":{},"sourceType":"module"}