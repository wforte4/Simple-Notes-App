{"ast":null,"code":"import Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\nconst cookies = new Cookies();\nexport async function createProfile(data) {\n  // Request data to post to createprofile route on rest api\n  const newUser = await fetch(baseConfig.baseURL + '/users', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    console.log('Request failed', error);\n  });\n  if (newUser) return newUser;\n}\nexport async function loginRequest(email, password) {\n  // New Login Data request\n  const newLogin = await fetch(baseConfig.baseURL + '/auth', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    })\n  }).then(function (response) {\n    if (response.status == 400) return response.status;\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    return error;\n  });\n  return newLogin;\n}\nexport async function forgotPassword(email) {\n  // New Login Data request\n  const newLogin = await fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newLogin) {\n    return newLogin;\n  }\n}\nexport async function changePassword(token, newPassword) {\n  // New Login Data request\n  const newLogin = await fetch(baseConfig.baseURL + '/users/changepassword/' + newPassword, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  }).catch(function (error) {\n    return error;\n  });\n\n  if (newLogin) {\n    return newLogin;\n  }\n}\nexport async function submitContact(name, message, email, cellphone) {\n  // Request data to post to createprofile route on rest api\n  const newfetch = await fetch(baseConfig.baseURL + '/contact', {\n    method: 'POST',\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"name\": name,\n      \"message\": message,\n      \"cellphone\": cellphone,\n      \"email\": email\n    })\n  }).then(function (res) {\n    return res.status;\n  }).catch(function (error) {\n    console.log('Request failed', error);\n  });\n\n  if (newfetch) {\n    return newfetch;\n  } else {\n    return 404;\n  }\n}\nexport async function patchUser(userId, token, userData) {\n  // Request data to post to createprofile route on rest api\n  const newfetch = await fetch(baseConfig.baseURL + '/users/' + userId, {\n    method: 'PATCH',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      userData\n    })\n  }).then(res => res.ok ? res : Promise.reject(res)).then(res => res.json()).catch(function (error) {\n    console.log('Request failed', error);\n  });\n\n  if (newfetch) {\n    return newfetch;\n  } else {\n    return 404;\n  }\n}\nexport async function getAllUsers(token, limit) {\n  // New Login Data request\n  const allUsers = await fetch(baseConfig.baseURL + '/users', {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    },\n    query: JSON.stringify({\n      \"limit\": limit\n    })\n  }).then(res => {\n    if (res.ok) return res;else {\n      return res.status;\n    }\n  }).then(res => {\n    console.log(res);\n    if (typeof res === typeof Number) return res;else {\n      return res.json();\n    }\n  }).then(function (data) {\n    return data;\n  });\n\n  if (allUsers) {\n    return allUsers;\n  }\n}","map":{"version":3,"sources":["/Users/williamforte/Canvas/SynapseFlash/services/apiservice.js"],"names":["Router","Cookies","jwt_decode","baseConfig","cookies","createProfile","data","newUser","fetch","baseURL","method","headers","body","JSON","stringify","then","response","json","catch","error","console","log","loginRequest","email","password","newLogin","status","forgotPassword","changePassword","token","newPassword","submitContact","name","message","cellphone","newfetch","res","patchUser","userId","userData","ok","Promise","reject","getAllUsers","limit","allUsers","query","Number"],"mappings":"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","sourcesContent":["import Router from 'next/router';\nimport { Cookies } from 'react-cookie';\nimport jwt_decode from 'jwt-decode';\nimport { baseConfig } from './restservice';\n\nconst cookies = new Cookies();\n\nexport async function createProfile(data) {\n    // Request data to post to createprofile route on rest api\n    const newUser = await fetch(baseConfig.baseURL + '/users', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    })\n    .then(function(response) {\n        return response.json()\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n    if(newUser) return newUser\n}\n\nexport async function loginRequest(email, password) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/auth', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"email\": email,\n            \"password\": password\n        })\n    })\n    .then(function(response) {\n        if(response.status == 400) return response.status\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    return newLogin\n}\n\nexport async function forgotPassword(email) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/users/forgotpass/' + email, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\"\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newLogin) {\n        return newLogin\n    }\n}\n\nexport async function changePassword(token, newPassword) {\n    // New Login Data request\n    const newLogin = await fetch(baseConfig.baseURL + '/users/changepassword/' + newPassword, {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n    .then(function(response) {\n        return response.json();\n    })\n    .then(function(data) {\n        return data\n    })\n    .catch(function(error) {\n        return error\n    });\n    if(newLogin) {\n        return newLogin\n    }\n}\n\nexport async function submitContact(name, message, email, cellphone) {\n    // Request data to post to createprofile route on rest api\n    const newfetch = await fetch(baseConfig.baseURL + '/contact', {\n        method: 'POST',\n        headers: {\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"name\": name,\n            \"message\": message,\n            \"cellphone\": cellphone,\n            \"email\": email\n        })\n    })\n    .then(function(res) {\n        return res.status\n    })\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n\n    if(newfetch) {\n        return newfetch\n    } else {\n        return 404\n    }\n}\n\nexport async function patchUser(userId, token, userData) {\n    // Request data to post to createprofile route on rest api\n    const newfetch = await fetch(baseConfig.baseURL + '/users/' + userId, {\n        method: 'PATCH',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({ userData })\n    })\n    .then(res => (res.ok ? res: Promise.reject(res)))\n    .then(res => res.json())\n    .catch(function(error) {\n        console.log('Request failed', error);\n    });\n\n    if(newfetch) {\n        return newfetch\n    } else {\n        return 404\n    }\n}\n\nexport async function getAllUsers(token, limit) {\n    // New Login Data request\n    const allUsers = await fetch(baseConfig.baseURL + '/users', {\n        method: 'GET',\n        headers: {\n            \"Content-type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        query: JSON.stringify({\n            \"limit\": limit\n        })\n    })\n    .then(res => {\n        if(res.ok) return res\n        else {\n            return res.status\n        }\n    })\n    .then(res => {\n        console.log(res)\n        if(typeof res === typeof Number) return res\n        else {\n            return res.json()\n        }\n    })\n    .then(function(data) {\n        return data\n    })\n    if(allUsers) {\n        return allUsers\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}